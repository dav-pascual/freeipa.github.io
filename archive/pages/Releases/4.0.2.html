<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Highlights in 4.0.2 &#8212; FreeIPA  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Bug fixes in 4.0.3" href="4.0.3.html" />
    <link rel="prev" title="Highlights in 4.0.1" href="4.0.1.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>The FreeIPA team is proud to announce FreeIPA v4.0.2!</p>
<p>It can be downloaded from <a class="reference external" href="http://www.freeipa.org/page/Downloads">http://www.freeipa.org/page/Downloads</a>. The
builds will be available for Fedora 21. Builds for Fedora 20 are
available in the official <a class="reference external" href="https://copr.fedoraproject.org/coprs/mkosek/freeipa/">COPR
repository</a>.</p>
<section id="highlights-in-4-0-2">
<span id="id1"></span><h1>Highlights in 4.0.2<a class="headerlink" href="#highlights-in-4-0-2" title="Permalink to this heading">¶</a></h1>
<section id="enhancements">
<h2>Enhancements<a class="headerlink" href="#enhancements" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>TOTP watermark support was added. The last token interval is now
being added to database and replicated in FreeIPA realm. Note that
the number of writes is kept the same as an unnecessary LDAP write
was eliminated.</p></li>
<li><p>Effective Attributes widget in the Add Permission Web UI page was
improved</p></li>
<li><p>ipa-csreplica-manage can now set CA renewal master</p></li>
<li><p>trust-add is now capable of ensuring conditions for a
<a class="reference external" href="Trusts">Trust</a> are met prior to establishing it in complex
environments (e.g. only adding trust via AD DC with a PDC role in a
forest root domain, falling back when no closest AD DC is available
for the local site)</p></li>
</ul>
</section>
<section id="bug-fixes">
<span id="id2"></span><h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Server installation with certificates signed by external CA could
crash with IndexError</p></li>
<li><p>ipa-client-install could add duplicate “sss” to /etc/nsswitch.conf
when configuring sudo</p></li>
<li><p>ipa-client-install crashed when non-zero minSSF was set on FreeIPA
server</p></li>
<li><p>Installers and helper tools now communicate with certmonger via its
DBUS API instead of manipulating its configuration files, fixing the
related intermittent uninstallation failures</p></li>
<li><p>idrange-* commands no longer allow unsupported range types
(ipa-ad-winsync, ipa-ipa-trust)</p></li>
<li><p>user-add no longer fails when –user-auth-type is specified</p></li>
<li><p>Entries in Schema Compatibility tree are now accessible anonymously
by default to aid legacy clients.</p></li>
</ul>
</section>
</section>
<section id="known-issues">
<span id="id3"></span><h1>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this heading">¶</a></h1>
<ul class="simple">
<li><p>The Directory Server may crash during install due to <a class="reference external" href="https://fedorahosted.org/389/ticket/47889">389-ds bug
47889</a>.</p></li>
<li><p>Enumeration in SSSD may fail due to <a class="reference external" href="https://fedorahosted.org/389/ticket/47885">389-ds bug
47885</a>.</p></li>
<li><p>Zone removal may misbehave due to a <em>bind-dyndb-ldap</em> bug. If FreeIPA
is used to manage DNS root zones, bind-dyndb-ldap 5.1 or higher is
recommended. Bind-dyndb-ldap 5.2 was built for Fedora
<a class="reference external" href="http://copr.fedoraproject.org/coprs/mkosek/freeipa/build/31135/">20</a>,
<a class="reference external" href="https://admin.fedoraproject.org/updates/bind-dyndb-ldap-5.2-1.fc21">21</a>,
<a class="reference external" href="http://koji.fedoraproject.org/koji/buildinfo?buildID=575841">rawhide</a>.</p></li>
</ul>
</section>
<section id="upgrading">
<h1>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this heading">¶</a></h1>
<p>An IPA server can be upgraded simply by installing updated rpms. The
server does not need to be shut down in advance.</p>
<p>Please note that if you are doing the upgrade in special environment
(e.g. FedUp) which does not allow running the LDAP server during upgrade
process, upgrade scripts need to be run manually after the first boot:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre"># ipa-ldap-updater --upgrade</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre"># ipa-upgradeconfig</span></code></div>
</div>
<p>Also note that the performance improvements require an extended set of
indexes to be configured. RPM update for an IPA server with a excessive
number of users may require several minutes to finish.</p>
<p>If you have multiple servers you may upgrade them one at a time. It is
expected that all servers will be upgraded in a relatively short period
(days or weeks, not months). They should be able to co-exist peacefully
but new features will not be available on old servers and enrolling a
new client against an old server will result in the SSH keys not being
uploaded.</p>
<p>Downgrading a server once upgraded is not supported.</p>
<p>Upgrading from 3.3.0 and later versions is supported. Upgrading from
previous versions is not supported and has not been tested.</p>
<p>An enrolled client does not need the new packages installed unless you
want to re-enroll it. SSH keys for already installed clients are not
uploaded, you will have to re-enroll the client or manually upload the
keys.</p>
</section>
<section id="feedback">
<h1>Feedback<a class="headerlink" href="#feedback" title="Permalink to this heading">¶</a></h1>
<p>Please provide comments, bugs and other feedback via the freeipa-users
mailing list (<a class="reference external" href="http://www.redhat.com/mailman/listinfo/freeipa-users">http://www.redhat.com/mailman/listinfo/freeipa-users</a>) or
#freeipa channel on Freenode.</p>
</section>
<section id="detailed-changelog-since-4-0-1">
<span id="id4"></span><h1>Detailed Changelog since 4.0.1<a class="headerlink" href="#detailed-changelog-since-4-0-1" title="Permalink to this heading">¶</a></h1>
<section id="alexander-bokovoy-5">
<span id="id5"></span><h2>Alexander Bokovoy (5)<a class="headerlink" href="#alexander-bokovoy-5" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>ipaserver/dcerpc.py: if search of a closest GC failed, try to find
any GC</p></li>
<li><p>ipaserver/dcerpc.py: make PDC discovery more robust</p></li>
<li><p>ipaserver/dcerpc.py: Avoid hitting issue with transitive trusts on
Windows Server prior to 2012</p></li>
<li><p>ipaserver/dcerpc.py: be more open to what domains can be seen through
the forest trust</p></li>
<li><p>ipaserver/dcerpc.py: Make sure trust is established only to forest
root domain</p></li>
</ul>
</section>
<section id="david-kupka-7">
<span id="id6"></span><h2>David Kupka (7)<a class="headerlink" href="#david-kupka-7" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix group-remove-member crash when group is removed from a protected
group</p></li>
<li><p>test group: remove group from protected group.</p></li>
<li><p>Verify otptoken timespan is valid</p></li>
<li><p>Add record(s) to /etc/host when IPA is configured as DNS server.</p></li>
<li><p>Use certmonger D-Bus API instead of messing with its files.</p></li>
<li><p>Do not restart apache server when not necessary.</p></li>
<li><p>Allow user to force Kerberos realm during installation.</p></li>
</ul>
</section>
<section id="gabe-1">
<span id="id7"></span><h2>Gabe (1)<a class="headerlink" href="#gabe-1" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>ipa trust-add command should be interactive</p></li>
</ul>
</section>
<section id="jakub-hrozek-1">
<span id="id8"></span><h2>Jakub Hrozek (1)<a class="headerlink" href="#jakub-hrozek-1" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>CLIENT: Explicitly require python-backports-ssl_match_hostname</p></li>
</ul>
</section>
<section id="jan-cholasta-11">
<span id="id9"></span><h2>Jan Cholasta (11)<a class="headerlink" href="#jan-cholasta-11" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Check if /root/ipa.csr exists when installing server with external
CA.</p></li>
<li><p>Exclude attributelevelrights from –raw result processing in
baseldap.</p></li>
<li><p>Add test for baseldap.entry_to_dict.</p></li>
<li><p>Convert external CA chain to PKCS#7 before passing it to pkispawn.</p></li>
<li><p>Allow changing CA renewal master in ipa-csreplica-manage.</p></li>
<li><p>Add method for setting CA renewal master in LDAP to CAInstance.</p></li>
<li><p>Pick new CA renewal master when deleting a replica.</p></li>
<li><p>Normalize external CA cert before passing it to pkispawn</p></li>
<li><p>Add new NSSDatabase method get_cert for getting certs from NSS
databases.</p></li>
<li><p>Make CA-less ipa-server-install option –root-ca-file optional.</p></li>
<li><p>Backup CS.cfg before modifying it</p></li>
</ul>
</section>
<section id="martin-basti-7">
<span id="id10"></span><h2>Martin Bašti (7)<a class="headerlink" href="#martin-basti-7" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix DNS upgrade plugin should check if DNS container exists</p></li>
<li><p>FIX: named_enable_dnssec should verify if DNS is installed</p></li>
<li><p>Allow to add host if AAAA record exists</p></li>
<li><p>Tests: host tests with dns</p></li>
<li><p>Fix dnsrecord-mod raise error if last record attr is removed</p></li>
<li><p>FIX DNS wildcard records (RFC4592)</p></li>
<li><p>Tests: DNS wildcard records</p></li>
</ul>
</section>
<section id="martin-kosek-2">
<span id="id11"></span><h2>Martin Košek (2)<a class="headerlink" href="#martin-kosek-2" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Do not crash client basedn discovery when SSF not met</p></li>
<li><p>ipa-adtrust-install does not re-add member in adtrust agents group</p></li>
</ul>
</section>
<section id="nathaniel-mccallum-1">
<span id="id12"></span><h2>Nathaniel McCallum (1)<a class="headerlink" href="#nathaniel-mccallum-1" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Ensure ipaUserAuthTypeClass when needed on user creation</p></li>
</ul>
</section>
<section id="petr-viktorin-8">
<span id="id13"></span><h2>Petr Viktorin (8)<a class="headerlink" href="#petr-viktorin-8" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Update API.txt</p></li>
<li><p>test_ipagetkeytab: Fix assertion in negative test</p></li>
<li><p>freeipa.spec.in: Add python-backports-ssl_match_hostname to
BuildRequires</p></li>
<li><p>permission plugin: Make –target available in the CLI</p></li>
<li><p>permission plugin: Improve description of the target option</p></li>
<li><p>Add managed read permissions for compat tree</p></li>
<li><p>Fix: Add managed read permissions for compat tree and operational
attrs</p></li>
<li><p>Become IPA 4.0.2</p></li>
</ul>
</section>
<section id="petr-vobornik-10">
<span id="id14"></span><h2>Petr Voborník (10)<a class="headerlink" href="#petr-vobornik-10" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>webui: support wildcard attribute level rights</p></li>
<li><p>webui: fix nested items creation in dropdown list</p></li>
<li><p>webui: internet explorer fixes</p></li>
<li><p>webui: detach facet nodes</p></li>
<li><p>webui: replace action_buttons with action_widget</p></li>
<li><p>webui: remove remaining action-button-disabled occurrences</p></li>
<li><p>webui-ci: fix reset password check</p></li>
<li><p>webui: better error reporting</p></li>
<li><p>webui-ci: fix table widget add</p></li>
<li><p>webui: extract complex pkey on Add and Edit</p></li>
</ul>
</section>
<section id="rob-crittenden-1">
<span id="id15"></span><h2>Rob Crittenden (1)<a class="headerlink" href="#rob-crittenden-1" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>No longer generate a machine certificate on client installs</p></li>
</ul>
</section>
<section id="stephen-gallagher-1">
<span id="id16"></span><h2>Stephen Gallagher (1)<a class="headerlink" href="#stephen-gallagher-1" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Change BuildRequires for Java</p></li>
</ul>
</section>
<section id="tomas-babej-3">
<span id="id17"></span><h2>Tomáš Babej (3)<a class="headerlink" href="#tomas-babej-3" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>ipalib: idrange: Make non-implemented range types fail the validation</p></li>
<li><p>ipatests: test_trust: Add test to cover lookup of trusdomains</p></li>
<li><p>ipa-client-install: Do not add already configured sources to
nsswitch.conf entries</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/freeipa-logo-small.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, FreeIPA Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/archive/pages/Releases/4.0.2.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
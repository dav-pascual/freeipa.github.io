<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Overview &#8212; FreeIPA  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Overview" href="Help.html" />
    <link rel="prev" title="Overview" href="Forced_client_re-enrollment.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>__NOTOC__</p>
<section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h1>
<p>Related ticket: <a class="reference external" href="https://fedorahosted.org/freeipa/ticket/3528">#3528</a></p>
<p>The original set of requirements for IPA and SSSD included the
requirement to factor in the source host of the connection in the host
based access control decisions. Unfortunately the actual implementation
showed that it can’t be done reliably because source host information is
not consistently passed through the stack to the component that needs to
make a decision. As a result the implementation suffered failures that
were hard to troubleshoot and/or avoid. As a result the client side SSSD
made a decision to deprecate the support of source host. However the
server side - IPA still allows defining rules that include source host.</p>
<p>Commands and command options that include source hosts will be
completely removed from the web UI. In the CLI they will be hidden and
marked as deprecated. These commands and options will not show up in the
help and it will not be possible to use them from the CLI. They will
however remain in the API and when called directly using the API, will
raise appropriate exceptions informing the user about their deprecation.</p>
</section>
<section id="use-cases">
<span id="use-cases118"></span><h1>Use Cases<a class="headerlink" href="#use-cases" title="Permalink to this heading">¶</a></h1>
<ul class="simple">
<li><p>User opens the FreeIPA web UI and navigates to Policy -&gt; Host Based
Access Control -&gt; HBAC rules -&gt; any rule. ‘From’ section does not
appear as it has been removed.</p></li>
<li><p>User opens the FreeIPA web UI and navigates to Policy -&gt; Host Based
Access Control -&gt; HBAC test. ‘From’ section does not appear as it has
been removed.</p></li>
<li><p>User tries to call the deprecated <code class="docutils literal notranslate"><span class="pre">hbacrule-add-sourcehost</span></code> command
from the CLI. The command is not recognized as a valid ipa command
and the error “unknown command” is returned.</p></li>
<li><p>User tries to call the deprecated <code class="docutils literal notranslate"><span class="pre">hbacrule-add-sourcehost</span></code> command
from the API. An exception is raised informing the user that the
command has been deprecated.</p></li>
<li><p>User tries to call the command <code class="docutils literal notranslate"><span class="pre">hbacrule-add</span></code> with the deprecated
option <code class="docutils literal notranslate"><span class="pre">--srchostcat</span></code> from the CLI. The option is not recognized as
a valid option for this command and the error “no such option” is
returned.</p></li>
<li><p>User tries to call the command <code class="docutils literal notranslate"><span class="pre">hbacrule-add</span></code> with the deprecated
option <code class="docutils literal notranslate"><span class="pre">--srchostcat</span></code> from the API. An exception is raised
informing the user that the option has been deprecated.</p></li>
<li><p>User opens the help for HBAC related commands using the
<code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">help</span> <span class="pre">...</span></code> or <code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">command</span> <span class="pre">-h</span></code>. No mention of source hosts or
source host groups is present in help.</p></li>
</ul>
</section>
<section id="design">
<h1>Design<a class="headerlink" href="#design" title="Permalink to this heading">¶</a></h1>
<p>Remove any reference to source hosts and hostgroups from the help
docstrings.</p>
<p>Remove ‘From’ section from the HBAC rule details page and from the HBAC
test page in the web UI.</p>
<p>Add new exception type to <code class="docutils literal notranslate"><span class="pre">ipalib/errors</span></code>: <code class="docutils literal notranslate"><span class="pre">DeprecationError</span></code>.</p>
<p>Modify the commands <code class="docutils literal notranslate"><span class="pre">hbacrule-add-sourcehost</span></code> and
<code class="docutils literal notranslate"><span class="pre">hbacrule-remove-sourcehost</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NO_CLI</span></code> flag will be set</p></li>
<li><p>validate() method will raise the DeprecationError</p></li>
</ul>
<p>Modify the options: <code class="docutils literal notranslate"><span class="pre">sourcehostcategory</span></code>, <code class="docutils literal notranslate"><span class="pre">sourcehost_host</span></code>,
<code class="docutils literal notranslate"><span class="pre">sourcehost_hostgroup</span></code> of the <code class="docutils literal notranslate"><span class="pre">hbacrule</span></code> class and <code class="docutils literal notranslate"><span class="pre">sourcehost</span></code> of
the <code class="docutils literal notranslate"><span class="pre">hbactest</span></code> class:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">no_option</span></code> flag will be set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_rule_deprecate()</span></code> method will return a deprecation message</p></li>
</ul>
<p>Add new unit tests to ensure the appropriate exceptions are raised on
invocation of these commands and options.</p>
<p>Modify existing unit tests to take into account the new behavior of
these commands and options.</p>
</section>
<section id="feature-managment">
<span id="id1"></span><h1>Feature Managment<a class="headerlink" href="#feature-managment" title="Permalink to this heading">¶</a></h1>
<section id="ui">
<h2>UI<a class="headerlink" href="#ui" title="Permalink to this heading">¶</a></h2>
<p>N/A</p>
</section>
<section id="cli">
<h2>CLI<a class="headerlink" href="#cli" title="Permalink to this heading">¶</a></h2>
<p>N/A</p>
</section>
</section>
<section id="major-configuration-options-and-enablement">
<h1>Major configuration options and enablement<a class="headerlink" href="#major-configuration-options-and-enablement" title="Permalink to this heading">¶</a></h1>
<p>N/A</p>
</section>
<section id="replication">
<h1>Replication<a class="headerlink" href="#replication" title="Permalink to this heading">¶</a></h1>
<p>N/A</p>
</section>
<section id="updates-and-upgrades">
<h1>Updates and Upgrades<a class="headerlink" href="#updates-and-upgrades" title="Permalink to this heading">¶</a></h1>
<p>N/A</p>
</section>
<section id="dependencies">
<h1>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this heading">¶</a></h1>
<p>N/A</p>
</section>
<section id="external-impact">
<h1>External Impact<a class="headerlink" href="#external-impact" title="Permalink to this heading">¶</a></h1>
<p>N/A</p>
</section>
<section id="rfe-author">
<h1>RFE Author<a class="headerlink" href="#rfe-author" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="User:Akrivoka">akrivoka</a> 08:40, 10 April 2013 (EDT)</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/freeipa-logo-small.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, FreeIPA Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/archive/pages/V3/HBACSourceHosts.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
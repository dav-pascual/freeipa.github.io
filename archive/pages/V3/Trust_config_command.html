<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Overview &#8212; FreeIPA  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Overview" href="Trust_resolve_command.html" />
    <link rel="prev" title="Overview" href="Transitive_Trusts.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>__NOTOC__</p>
<section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h1>
<p>Related tickets <a class="reference external" href="https://fedorahosted.org/freeipa/ticket/3333">#3333</a></p>
<p>Related designs: <a class="reference external" href="IPAv3_AD_trust">AD Trusts</a>, <a class="reference external" href="V3/MultipleTrustServers">Multiple Trust
servers</a></p>
<p>We expose an interface to show configuration of a foreign trusted domain
(for example NetBIOS name or SID) with <code class="docutils literal notranslate"><span class="pre">trust-show</span></code> command. We should
also expose an interface to actually show global configuration of
FreeIPA domain which is already being stored in
<code class="docutils literal notranslate"><span class="pre">cn=$IPA_DOMAIN,cn=ad,cn=etc,$IPA_SUFFIX</span></code>.</p>
</section>
<section id="use-cases">
<h1>Use Cases<a class="headerlink" href="#use-cases" title="Permalink to this heading">¶</a></h1>
<ul class="simple">
<li><p>Trust administrator wants to get properties of FreeIPA domain global
configuration, for example:</p>
<ul>
<li><p>auto-generated GUID or SID</p></li>
<li><p>NetBIOS name configured during <code class="docutils literal notranslate"><span class="pre">ipa-adtrust-install</span></code></p></li>
<li><p>Primary fallback group</p></li>
</ul>
</li>
<li><p>Trust administrator wants to modify some of the FreeIPA domain
configuration settings which are allowed to be modified (most of the
configuration settings will be read-only as any change could break
existing trusted domain relationships)</p></li>
</ul>
</section>
<section id="design">
<h1>Design<a class="headerlink" href="#design" title="Permalink to this heading">¶</a></h1>
<p>Add 2 new commands <code class="docutils literal notranslate"><span class="pre">trustconfig-show</span></code> and <code class="docutils literal notranslate"><span class="pre">trustconfig-mod</span></code> to
manipulate the global configuration. Even though we currently (FreeIPA
3.1) support only Active Directory type of trusts, these commands should
be already prepared for more types as they will come in the future.</p>
</section>
<section id="feature-management">
<h1>Feature Management<a class="headerlink" href="#feature-management" title="Permalink to this heading">¶</a></h1>
<section id="ui">
<h2>UI<a class="headerlink" href="#ui" title="Permalink to this heading">¶</a></h2>
<p>UI will need to implement new page in IPA Server - Trusts section,
similarly to “DNS Global Configuration”, except this one would be named
“Trusts Global Configuration”.</p>
<p>The page which would take advantage of the new commands to change these
settings. It of course need to respect which fields are read only and
which are not. Primary fallback group field should use a widget allowing
selecting an existing group in FreeIPA domain or use the default hidden
group “SMB Default Group”.</p>
</section>
<section id="cli">
<h2>CLI<a class="headerlink" href="#cli" title="Permalink to this heading">¶</a></h2>
<section id="trustconfig-show">
<span id="id1"></span><h3>trustconfig-show<a class="headerlink" href="#trustconfig-show" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">trustconfig-show</span></code> will display configuration of FreeIPA domain,
stored in <code class="docutils literal notranslate"><span class="pre">cn=$DOMAIN,cn=$TYPE,cn=etc,$SUFFIX</span></code>. When the trust is not
configured (<code class="docutils literal notranslate"><span class="pre">ipa-adtrust-install</span></code> was not run), an error will be
returned.</p>
<p>Required command options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--type</span></code>: The exactly same meaning as with <code class="docutils literal notranslate"><span class="pre">trust-add</span></code>.
Currently, the only allowed value will be <code class="docutils literal notranslate"><span class="pre">ad</span></code>.</p></li>
</ul>
</section>
<section id="trustconfig-mod">
<span id="id2"></span><h3>trustconfig-mod<a class="headerlink" href="#trustconfig-mod" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">trustconfig-mod</span></code> will allow Administrator to modify selected
attributes which would not cause breakage of current trust
relationships:</p>
<ul class="simple">
<li><p>Primary fallback group (ipaNTFallbackPrimaryGroup): attribute will
accept either a group name for group located in a standard group
container (<code class="docutils literal notranslate"><span class="pre">cn=groups,cn=accounts,$SUFFIX</span></code>) or a DN of the group.
The group must have a <code class="docutils literal notranslate"><span class="pre">posixGroup</span></code> objectclass so that its GID
number can be retrieved by <code class="docutils literal notranslate"><span class="pre">ipa-kdb</span></code> (and other components).
Default value for this attribute is a group named
<code class="docutils literal notranslate"><span class="pre">Default</span> <span class="pre">SMB</span> <span class="pre">Group</span></code> which resides in standard IPA group container
(but is hidden on purpose from <code class="docutils literal notranslate"><span class="pre">group-find</span></code> command).</p></li>
</ul>
<p>Required command options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--type</span></code>, see <code class="docutils literal notranslate"><span class="pre">trustconfig-show</span></code> command for details.</p></li>
</ul>
</section>
</section>
</section>
<section id="major-configuration-options-and-enablement">
<h1>Major configuration options and enablement<a class="headerlink" href="#major-configuration-options-and-enablement" title="Permalink to this heading">¶</a></h1>
<p>These commands will be only functional when the trusts are configured.</p>
</section>
<section id="replication">
<h1>Replication<a class="headerlink" href="#replication" title="Permalink to this heading">¶</a></h1>
<p>N/A</p>
</section>
<section id="updates-and-upgrades">
<h1>Updates and Upgrades<a class="headerlink" href="#updates-and-upgrades" title="Permalink to this heading">¶</a></h1>
<p>N/A</p>
</section>
<section id="dependencies">
<h1>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this heading">¶</a></h1>
<p>N/A</p>
</section>
<section id="external-impact">
<h1>External Impact<a class="headerlink" href="#external-impact" title="Permalink to this heading">¶</a></h1>
<p>N/A</p>
</section>
<section id="design-page-authors">
<span id="id3"></span><h1>Design page authors<a class="headerlink" href="#design-page-authors" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="User:Mkosek">Mkosek</a></p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/freeipa-logo-small.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, FreeIPA Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/archive/pages/V3/Trust_config_command.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
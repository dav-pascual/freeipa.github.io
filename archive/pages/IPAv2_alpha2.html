<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Significant Changes since last alpha &#8212; FreeIPA  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Significant Changes since alpha 2" href="IPAv2_alpha3.html" />
    <link rel="prev" title="Defining an Entity" href="IPAv2_UI_Framework_-_Tutorial.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>__NOTOC__</p>
<section id="significant-changes-since-last-alpha">
<span id="id1"></span><h1>Significant Changes since last alpha<a class="headerlink" href="#significant-changes-since-last-alpha" title="Permalink to this heading">¶</a></h1>
<ul class="simple">
<li><p>There is now a basic UI available. It is still rather rough around
the edges. A menu is available by clicking on the FreeIPA in the
upper-left of the screen.</p></li>
<li><p>DNS server support can be added post-installation using the
ipa-install-dns script.</p></li>
<li><p>The dogtag packages are available in the Fedora repos making it very
easy to install IPA backed with a real CA.</p></li>
<li><p>SSSD integration. sssd is a client-side replacement for nss_ldap and
brings a ton of features. See <a class="reference external" href="https://fedorahosted.org/sssd/">https://fedorahosted.org/sssd/</a> for more
details</p></li>
<li><p>Certmonger integration. certmonger is a client-side program to
monitor SSL server certificates and automatically renew them. See
<a class="reference external" href="https://fedorahosted.org/certmonger/">https://fedorahosted.org/certmonger/</a> for more details</p></li>
<li><p>ipa-client-install now also joins the host to the IPA realm. This
does a number of things:</p>
<ul>
<li><p>Retrieves a host service principal and installs it into
/etc/krb5.keytab. These credentials are used by sssd.</p></li>
<li><p>Retrieves a SSL server certificate for the machine and stores it
in /etc/pki/nssdb. This also uses the host principal for
authentication/authorization.</p></li>
<li><p>Joining requires either a kerberos principal with the right
privileges or a password:</p>
<ul>
<li><p>You can pre-create the host and set a one-time password to be
used for bulk enrollment, say in cobbler with: ipa host-add
–password=secret123 client.example.com</p></li>
<li><p>You can pre-create the host which will be joined by an admin
user on the client machine: ipa host-add client.example.com</p></li>
<li><p>If you join the host using an admin user it will be
automatically added if not already present</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="package-requirements">
<span id="id2"></span><h1>Package Requirements<a class="headerlink" href="#package-requirements" title="Permalink to this heading">¶</a></h1>
<p>The dogtag CA and bind DNS servers are optional components in this
alpha. In future versions the CA will be added as an rpm dependency and
be enabled by default in the installer. To install dogtag run
<code class="docutils literal notranslate"><span class="pre">yum</span> <span class="pre">install</span> <span class="pre">pki-ca</span></code>. It should pull in all dependencies. Pass the
–ca flag to the IPA installer to enable CA creation at install time.</p>
</section>
<section id="command-line">
<span id="id3"></span><h1>Command Line<a class="headerlink" href="#command-line" title="Permalink to this heading">¶</a></h1>
<p>One of the most visible changes is in the IPA command-line programs.
Rather than having a series of discrete commands for every function as
we had in v1 there is now a single command that takes as the first
argument the action you want to take.</p>
<p>For example, adding a user in v1:</p>
<p><code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">ipa-adduser</span> <span class="pre">--first=Jim</span> <span class="pre">--last=Example</span> <span class="pre">jexample</span></code></p>
<p>In v2:</p>
<p><code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">ipa</span> <span class="pre">user-add</span> <span class="pre">--first=Jim</span> <span class="pre">--last=Example</span> <span class="pre">jexample</span></code></p>
<p>For a list of topics: <code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">help</span> <span class="pre">topics</span></code></p>
<p>For a full list of available commands: <code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">help</span> <span class="pre">commands</span></code></p>
<p>We have tried to retain at least parity with the v1 commands, let us
know how we’ve done (and where we can improve).</p>
</section>
<section id="clients">
<h1>Clients<a class="headerlink" href="#clients" title="Permalink to this heading">¶</a></h1>
<p>The client installer (<code class="docutils literal notranslate"><span class="pre">ipa-client-install</span></code>) by default configures the
client machine to use SSSD. If you prefer using nss_ldap/pam instead
pass the client installer the –no-sssd option.</p>
</section>
<section id="replication">
<h1>Replication<a class="headerlink" href="#replication" title="Permalink to this heading">¶</a></h1>
<p>As in v1 all replicas should be created from the initial master. In
theory it should be possible to create a clone from a clone when using
dogtag as the CA but some problems have been reported when doing this.
So it is recommended that all replicas be created from the initial IPA
server using ipa-replica-prepare as was required in IPA v1.</p>
<p>If you re-install IPA on a replica machine be sure to delete the host
entry from the primary master (ipa host-del replica.example.com) before
performing the re-install. You will need to remove the old LDAP
replication agreement as well:
<code class="docutils literal notranslate"><span class="pre">ipa-replica-manage</span> <span class="pre">del</span> <span class="pre">--force</span> <span class="pre">replica.example.com</span></code>. If you don’t
then the re-installation will fail with errors about certificate already
being present in some entries.</p>
</section>
<section id="ca">
<h1>CA<a class="headerlink" href="#ca" title="Permalink to this heading">¶</a></h1>
<p>It is currently not possible to install the CA post IPA server
installation. It must be done when the server is initially installed
using the –ca option.</p>
<p>If for some reason the IPA server installation fails while installing
the CA, pass the –ca option to the uninstaller to ensure everything is
cleaned up: <code class="docutils literal notranslate"><span class="pre">ipa-server-install</span> <span class="pre">--uninstall</span> <span class="pre">--ca.</span></code></p>
<p>If installing v2 on a machine that was previously installed with IPA v1
and you are not configuring a dogtag CA you will need to remove the file
<code class="docutils literal notranslate"><span class="pre">/var/lib/ipa/ca_serialno</span></code> This file contains the last serial number
that the IPA self-signed CA has issued. The file format has changed and
is not backward compatible. You’ll see a message like this if you forget
to do this:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Unexpected error - see ipaserver-install.log for details:</span></code></div>
<div class="line">`` File contains no section headers.``</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">file: /var/lib/ipa/ca_serialno, line: 1</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">'1003'</span></code></div>
</div>
<p>To correct this remove the file, run <code class="docutils literal notranslate"><span class="pre">ipa-server-install</span> <span class="pre">--uninstall</span></code>
then run <code class="docutils literal notranslate"><span class="pre">ipa-server-install</span></code> again to configure the services.</p>
</section>
<section id="migration">
<h1>Migration<a class="headerlink" href="#migration" title="Permalink to this heading">¶</a></h1>
<p>It is not possible to upgrade an IPA v1 server to an IPA v2 server, too
much has changed internally. We have provided a migration mechanism to
migrate users and groups from an LDAP server (so this will aid in
migration from other identity products as well) to IPA v2.</p>
<p>To perform a migration, install IPA v2 on a clean machine. Once it is
installed and working you can migrate users and groups using the
migrate-ds command (ipa migrate-ds –help to see options).</p>
<p>Sample usage from a default 389-ds installation:</p>
<p><code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">ipa</span> <span class="pre">migrate-ds</span></code><code class="docutils literal notranslate"><span class="pre">`ldap://ldap.example.com</span></code> &lt;<a class="reference external" href="ldap://ldap.example.com">ldap://ldap.example.com</a>&gt;`__</p>
<p>Migration from an IPA v1 server:</p>
<p><code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">ipa</span> <span class="pre">migrate-ds</span> <span class="pre">--user-container=cn=users,cn=accounts</span> <span class="pre">--group-container=cn=groups,cn=accounts</span></code><code class="docutils literal notranslate"><span class="pre">`ldap://ipa.example.com</span></code> &lt;<a class="reference external" href="ldap://ipa.example.com">ldap://ipa.example.com</a>&gt;`__</p>
<p>The output will be the list of users and groups that migrated and those
that did not.</p>
<p>It is not currently possible to migrate ONLY users or ONLY groups. It
must migrate both. If either no users or no groups is present on the
server being migrated from an Entry Not Found will be displayed and the
migration will stop before migrating anything.</p>
</section>
<section id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h1>
<p>We are still in the process of writing documentation for the IPA v2. The
current progress can be followed at
<a class="reference external" href="http://freeipa.org/page/IPAv2_development_status#Documentation">http://freeipa.org/page/IPAv2_development_status#Documentation</a></p>
</section>
<section id="feedback">
<h1>Feedback<a class="headerlink" href="#feedback" title="Permalink to this heading">¶</a></h1>
<p>The UI and command-line commands use the same underlying plug-ins for
functionality. The UI pages are generated on-the-fly using some
additional meta-data. This should improve our code maintainability but
we also want to create a system that works for you. Any feedback on how
this helps/hurts getting your job done would be greatly appreciated.</p>
<p>Also keep in mind that the UI isn’t quite done yet, so be gentle :-)</p>
</section>
<section id="bugs">
<h1>Bugs<a class="headerlink" href="#bugs" title="Permalink to this heading">¶</a></h1>
<p>If you find any problems then please file a bug against the freeIPA
product at <a class="reference external" href="https://bugzilla.redhat.com/">https://bugzilla.redhat.com/</a></p>
</section>
<section id="work-continues">
<span id="id4"></span><h1>Work Continues<a class="headerlink" href="#work-continues" title="Permalink to this heading">¶</a></h1>
<p>A high-level view of things to be completed before the general release
of IPA v2 includes:</p>
<ul class="simple">
<li><p>Private groups</p></li>
<li><p>Future version smooth migration</p></li>
<li><p>UI</p></li>
<li><p>Documentation</p></li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/freeipa-logo-small.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, FreeIPA Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/archive/pages/IPAv2_alpha2.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Getting started with IPA &#8212; FreeIPA  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SRPM Packages" href="RHEL6_Package_List.html" />
    <link rel="prev" title="What’s in the sandbox" href="Quaid.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="getting-started-with-ipa">
<span id="id1"></span><h1>Getting started with IPA<a class="headerlink" href="#getting-started-with-ipa" title="Permalink to this heading">¶</a></h1>
<p>If you are not a Linux professional installing and configuring a server
and especially a security one might be a challenge. The following
document is an attempt to help those who are not familiar with Linux and
want to give IPA a try.</p>
</section>
<section id="preparing-a-platform">
<span id="id2"></span><h1>Preparing a Platform<a class="headerlink" href="#preparing-a-platform" title="Permalink to this heading">¶</a></h1>
<p>The main assumption is that you have a computer or a VM with a supported
platform. Currently, we support <em>Fedora</em> and <em>Red Hat Enterprise Linux</em>.
As FreeIPA requires a lot of new packages (LDAP, DNS or PKI servers and
others), we recommend that FreeIPA is tried first on a VM, which can be
then easily decommissioned after the test.</p>
<p>Before FreeIPA can be installed, make sure that FreeIPA prerequisites
are fulfilled, namely a static hostname or sane DNS resolution.</p>
<section id="ram">
<h2>RAM<a class="headerlink" href="#ram" title="Permalink to this heading">¶</a></h2>
<p>freeIPA requires an absolute minimum of 1.2GB to install with a CA. 2GB
is recommended for a demo/test system.</p>
</section>
<section id="static-hostname">
<span id="id3"></span><h2>Static Hostname<a class="headerlink" href="#static-hostname" title="Permalink to this heading">¶</a></h2>
<p>Kerberos authentication relies on a static hostname, if the hostname
changes, Kerberos authentication may break. Thus, the testing machine
should not use dynamically configured hostname from DHCP, but rather a
static one configured in <code class="docutils literal notranslate"><span class="pre">/etc/hostname</span></code></p>
</section>
<section id="dns-rules">
<span id="id4"></span><h2>DNS Rules<a class="headerlink" href="#dns-rules" title="Permalink to this heading">¶</a></h2>
<p>A properly configured DNS is the cornerstone of a working FreeIPA
system. Without a properly working DNS configuration Kerberos and SSL
won’t work as expected, or at all.</p>
<p>The IPA installer is quite picky about the DNS configuration. The
following checks are done by installer:</p>
<ol class="arabic simple">
<li><p>The hostname cannot be localhost or localhost6.</p></li>
<li><p>The hostname must be fully-qualified (<code class="docutils literal notranslate"><span class="pre">server.ipa.test</span></code>)</p></li>
<li><p>The hostname must be resolvable.</p></li>
<li><p>The reverse of address that it resolves to must match the hostname.</p></li>
</ol>
<p>Do not use an existing domain or hostname unless you own the domain.
It’s a common mistake to use <code class="docutils literal notranslate"><span class="pre">example.com</span></code>. We recommend to use a
reserved top level domain from
<a class="reference external" href="https://tools.ietf.org/html/rfc2606">RFC2606</a> for private test
installations, e.g. <code class="docutils literal notranslate"><span class="pre">ipa.test</span></code>.</p>
<p>The rule about <code class="docutils literal notranslate"><span class="pre">/etc/hosts</span></code> is that the fully-qualified name <strong>must</strong>
come first. It should look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">10.0.0.1</span>       <span class="n">server</span><span class="o">.</span><span class="n">ipa</span><span class="o">.</span><span class="n">test</span> <span class="n">server</span>
</pre></div>
</div>
</section>
</section>
<section id="select-freeipa-version">
<span id="id5"></span><h1>Select FreeIPA version<a class="headerlink" href="#select-freeipa-version" title="Permalink to this heading">¶</a></h1>
<p>It is important to realize what version of the FreeIPA you are planning
to install. There are two options:</p>
<ul class="simple">
<li><p><strong>Standard FreeIPA version distributed with the OS</strong>: this is the
safest option, contains a tested FreeIPA version. It may just not
contain the latest bits.</p></li>
<li><p><strong>Bleeding Edge repo</strong>: <a class="reference external" href="Downloads#Bleeding_Edge">daily build
repository</a> from our git containing the
latest bits. Great for testing the upcoming features. Just note, this
version is not tested and there may be dragons!</p></li>
<li><p><strong>Public Demo</strong>: the quickest way to get the look and feel of FreeIPA
is to look at it’s <a class="reference external" href="Demo">public demo</a>!</p></li>
<li><p><strong>Docker container</strong>: quick and easy way to test the FreeIPA server
in an isolated <a class="reference external" href="Docker">Docker container</a> without need to create
virtual machines.</p></li>
</ul>
</section>
<section id="open-ports-in-the-firewall">
<span id="id6"></span><h1>Open ports in the firewall<a class="headerlink" href="#open-ports-in-the-firewall" title="Permalink to this heading">¶</a></h1>
<p>The ports that IPA uses will need to be opened so remote clients or
additional IPA masters will be able to connect.</p>
<p>Fedora comes with two pre-defined service rules for FreeIPA. One opens
Kerberos, HTTP, HTTPS, DNS, NTP and LDAP, the other the same set with
LDAPS instead of LDAP (out-of-the box you want LDAP).</p>
<p>In this case the first command opens the required ports and the second
will make the changes persistent across reboots. The exact service name
to use depends on the version of firewalld. Since April 2019, firewalld
has deprecated old service names <strong>freeipa-ldap</strong> and <strong>freeipa-ldaps</strong>
in favor of a new one <strong>freeipa-4</strong>. Below we show the commands using
older names:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># firewall-cmd --add-service=freeipa-ldap --add-service=freeipa-ldaps</span>
<span class="c1"># firewall-cmd --add-service=freeipa-ldap --add-service=freeipa-ldaps --permanent</span>
</pre></div>
</div>
</section>
<section id="installing-freeipa-server">
<span id="id7"></span><h1>Installing FreeIPA server<a class="headerlink" href="#installing-freeipa-server" title="Permalink to this heading">¶</a></h1>
<p>When all OS is ready and all prerequisites are met, let’s try out
FreeIPA!</p>
<ol class="arabic">
<li><p><strong>Install FreeIPA server.</strong> From a root terminal, run:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">freeipa-server</span></code>
Note that the installed package just contains all the bits that
FreeIPA uses, it does not configure the actual server.
If you want to include the DNS server also install the
freeipa-server-dns package.
<code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">freeipa-server-dns</span></code></p>
</div></blockquote>
</li>
<li><p><strong>Configure a FreeIPA server.</strong></p>
<blockquote>
<div><p>The command can take command arguments or can be run in the
interactive mode. You can get more details with
<code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">ipa-server-install</span></code>. To start the interactive installation,
run:
<code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">ipa-server-install</span></code>
The command will at first gather all required information and then
configure all required services.</p>
</div></blockquote>
</li>
</ol>
<section id="administrative-users-in-freeipa">
<span id="id8"></span><h2>Administrative users in FreeIPA<a class="headerlink" href="#administrative-users-in-freeipa" title="Permalink to this heading">¶</a></h2>
<p>To be able to perform any administrative task you need to authenticate
to the server. During the configuration step you have been prompted to
create two users. The first one <em>Directory Manager</em> is the superuser
that needs to be used to perform rare low level tasks. For the normal
administrative activity an administrative account <em>admin</em> has been
created.</p>
<p>To authenticate as the <em>admin</em>, just run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ kinit admin
Password for admin@IPA.TEST:
</pre></div>
</div>
<p>You will be prompted for the password. Use the password that you
specified during the configuration step for the admin user. As a result
of this operation you acquire Kerberos ticket (<a class="reference external" href="KerberosService">more
info</a>).</p>
</section>
<section id="help-system-in-freeipa">
<span id="id9"></span><h2>Help system in FreeIPA<a class="headerlink" href="#help-system-in-freeipa" title="Permalink to this heading">¶</a></h2>
<p>You can use the ticket acquired as a result of the operation described
above to perform different administrative tasks. The first task that we
will do is add a user via command line. To do that we will first inspect
the command line interface by reading man pages of the <code class="docutils literal notranslate"><span class="pre">ipa</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ man ipa
</pre></div>
</div>
<p>One of the core features of IPA is its extensibility and pluggability.
This means that new functionality can be added later on top of the
existing, already running server. This also means that the help system
i.e. man pages should be pluggable and extensible. To accommodate this
requirement the <code class="docutils literal notranslate"><span class="pre">ipa</span></code> has a help system beyond man pages that allows
addition of the information. To get more information, run:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">ipa</span> <span class="pre">help</span> <span class="pre">topics</span></code> to get a list of help topics</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">ipa</span> <span class="pre">help</span></code> to print help for chosen topic</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">ipa</span> <span class="pre">help</span></code> to dive into the details of the command or topic</p></li>
</ul>
</section>
<section id="adding-your-first-user">
<span id="id10"></span><h2>Adding your first user<a class="headerlink" href="#adding-your-first-user" title="Permalink to this heading">¶</a></h2>
<p>Run <code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">help</span> <span class="pre">user</span></code> to see help on the user operations. Keep in mind
that the password management is a separate step and operation so after a
user is created the password for him should be set using <code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">passwd</span></code>
command otherwise the newly created user would not be able to
authenticate.</p>
<p>To create a user run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ipa</span> <span class="n">user</span><span class="o">-</span><span class="n">add</span>
</pre></div>
</div>
<p>command with or without additional parameters. If you omit any of the
required parameters or all of them the interface will prompt you for the
information.</p>
<p>After adding user add a password for him:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ipa</span> <span class="n">passwd</span> <span class="o">&lt;</span><span class="n">user</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This will create a password, but it will be a temporary one. The one
that you need to change on the first authentication. This is done on
purpose so that administrator can reset a password for a user but would
not be able to take advantage of that knowledge since user would has to
change the password on the first login.</p>
<p>You can now authenticate as the new user with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kinit</span> <span class="o">&lt;</span><span class="n">user</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>command. This will prompt you for a password and the immediately request
a password change.</p>
</section>
<section id="web-user-interface">
<span id="id11"></span><h2>Web User Interface<a class="headerlink" href="#web-user-interface" title="Permalink to this heading">¶</a></h2>
<p>Next step is to try the web UI. Make sure that your administrative
ticket is valid by running</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kinit</span> <span class="n">admin</span>
</pre></div>
</div>
<p>command. Run firefox in the same command window. It will start an
instance of the firefox. In the address bar type the name of the FreeIPA
server machine (e.g. <code class="docutils literal notranslate"><span class="pre">server.ipa.test</span></code>).</p>
<p>As the first step the FreeIPA server via browser will ask you to accept
a certificate for a secure SSL communication between your client
(browser) and the server (ipa). Follow the prompts and accept the
exception. Be sure that imported certificate is comes from FreeIPA
server and not from attacker!</p>
<p>When certificate is accepted, Web UI will most likely detect that it
does not have any Kerberos credentials available and will show up <em>user</em>
and <em>password</em> login screen. To properly configure the browser, you can
follow a link on the log in screen to run the configuration tool.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/freeipa-logo-small.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, FreeIPA Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/archive/pages/Quick_Start_Guide.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Find something to start with &#8212; FreeIPA  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Updating wiki" href="Documentation.html" />
    <link rel="prev" title="&lt;no title&gt;" href="../../../archive.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>This article should serve both as a reference article for already
seasoned FreeIPA developers, but also as a guide for new people who
would like to contribute. You can fix an open bug described in chosen
<a class="reference external" href="https://pagure.io/freeipa/issues">Pagure ticket</a> or implement a
whole new feature! The steps below should help get you started.</p>
<p>If you need to learn more about FreeIPA itself, visit the <a class="reference external" href="Main_Page">main
page</a>.</p>
<section id="find-something-to-start-with">
<span id="id1"></span><h1>Find something to start with<a class="headerlink" href="#find-something-to-start-with" title="Permalink to this heading">¶</a></h1>
<p>If you want to start with something (relatively) easy please take a look
at <a class="reference external" href="https://pagure.io/freeipa/issues?status=Open&amp;tags=easyfix">list of “easyfix”
tickets</a>
in our Pagure. It is always better to start with something simple :-)</p>
<p>Do not hesitate to <a class="reference external" href="Contribute#Communication">contact us</a> with any
question or idea!</p>
</section>
<section id="prepare">
<h1>Prepare<a class="headerlink" href="#prepare" title="Permalink to this heading">¶</a></h1>
<p>If you are just fixing a simple bug, you can easily continue with the
next steps. However, if you want to work on a bigger feature, a
preparation is advisable:</p>
<ol class="arabic simple">
<li><p>See <a class="reference external" href="General_considerations">General considerations</a> article to be
able to evaluate the scope of changes needed to be done to get a
bigger feature to FreeIPA</p></li>
<li><p>Read the <a class="reference external" href="http://abbra.fedorapeople.org/guide.html">Extend FreeIPA
guide</a> to see how the
FreeIPA can be extended</p></li>
<li><p>Prepare a feature design using the <a class="reference external" href="Feature_template">Feature
template</a> and send it for comments to
<a class="reference external" href="https://lists.fedoraproject.org/archives/list/freeipa-devel&#64;lists.fedorahosted.org/">freeipa-devel</a>
list. A feedback from experienced FreeIPA developers will help to
avoid running into dead ends and also informing the developers about
your plans. See currently <a class="reference external" href="V4_Designs">accepted</a> or <a class="reference external" href="V4_Proposals">proposed
designs</a> for inspiration</p></li>
</ol>
</section>
<section id="understanding-freeipa">
<span id="id2"></span><h1>Understanding FreeIPA<a class="headerlink" href="#understanding-freeipa" title="Permalink to this heading">¶</a></h1>
<p>To get started and understand more about the project, you can check the
<a class="reference external" href="https://github.com/freeipa/freeipa-workshop">freeipa-workshop</a>. Is a
guided tour through the core functionalities and how to setup a FreeIPA
environment.</p>
<section id="understanding-the-source-code">
<span id="id3"></span><h2>Understanding the source code<a class="headerlink" href="#understanding-the-source-code" title="Permalink to this heading">¶</a></h2>
<p>To have a better understanding of how the code works (how the pieces fit
together, etc), you can read the <a class="reference external" href="Documentation#Additional_Resources_2">“Extending FreeIPA Guide”
here</a>. It’s outdated, however,
is still a good source of information.</p>
</section>
</section>
<section id="get-the-source">
<span id="id4"></span><h1>Get the source<a class="headerlink" href="#get-the-source" title="Permalink to this heading">¶</a></h1>
<p>The source <a class="reference external" href="Contribute/Repository">repository</a> for FreeIPA is stored
in git. Retrieve it with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">pagure</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">freeipa</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>The code can also be browsed online
<a class="reference external" href="https://pagure.io/freeipa/commits">here</a></p>
</section>
<section id="change-the-code">
<span id="id5"></span><h1>Change the code<a class="headerlink" href="#change-the-code" title="Permalink to this heading">¶</a></h1>
<p>This is the best part - do the changes to FreeIPA code!</p>
<section id="debugging">
<h2>Debugging<a class="headerlink" href="#debugging" title="Permalink to this heading">¶</a></h2>
<p>To debug the code you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pdb</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ipa</span> <span class="o">&lt;</span><span class="n">command</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>However, sometimes you will need to debug with the server context. Then,
you can use a script like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># debug_ipa.py</span>
<span class="kn">from</span> <span class="nn">ipalib</span> <span class="kn">import</span> <span class="n">api</span>
<span class="kn">from</span> <span class="nn">ipapython</span> <span class="kn">import</span> <span class="n">ipaldap</span>

<span class="n">kinit_path</span> <span class="o">=</span> <span class="s1">&#39;/home/vagrant/.ccache&#39;</span>  <span class="c1"># change to your path here</span>
<span class="n">api</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">(</span><span class="n">in_server</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="s1">&#39;server&#39;</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
<span class="n">api</span><span class="o">.</span><span class="n">Backend</span><span class="o">.</span><span class="n">ldap2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">autobind</span><span class="o">=</span><span class="n">ipaldap</span><span class="o">.</span><span class="n">AUTOBIND_DISABLED</span><span class="p">,</span> <span class="n">ccache</span><span class="o">=</span><span class="n">kinit_path</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">Command</span><span class="p">[</span><span class="s2">&quot;&lt;command name&gt;&quot;</span><span class="p">](</span><span class="o">&lt;</span><span class="n">command</span> <span class="n">parameters</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, you just need to run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ kinit admin -c &lt;path in kinit_path&gt;
$ sudo python -m pdb debug_ipa.py
</pre></div>
</div>
</section>
<section id="update-pagure-ticket">
<span id="id6"></span><h2>Update Pagure ticket<a class="headerlink" href="#update-pagure-ticket" title="Permalink to this heading">¶</a></h2>
<p>We use Pagure for work coordination. Please be so kind and assign the
ticket you are working on to yourself. It is just a few clicks and it
prevents people from working on the same thing at the same time without
knowing about each other.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pagure.io/freeipa/issues">Find a ticket</a> related to your
work.</p>
<ul>
<li><p>Maybe the ticket does not exist. If you consider the code change
small, just send the patch and do not waste time with paperwork.
Please create a new ticket if the code change is big (like a new
feature, rework of existing component etc.) or it needs a backport
for an older branch. It eases coordination, we can discuss
different approaches etc.</p></li>
</ul>
</li>
<li><p>In the particular ticket, assign the ticket to yourself by clicking
on the “Take” button (note: you must be logged in
<a class="reference external" href="https://pagure.io/login/?next=https://pagure.io/freeipa/">pagure.io</a>,
see <a class="reference external" href="https://docs.pagure.org/pagure/usage/first_steps.html#login-to-pagure-or-create-your-account">Login to pagure or create your
account</a>)</p></li>
</ul>
</section>
<section id="update-code">
<span id="id7"></span><h2>Update code<a class="headerlink" href="#update-code" title="Permalink to this heading">¶</a></h2>
<p>Before completing the patch, please just make sure your contribution
complies with couple simple rules.</p>
<section id="code-quality">
<span id="id8"></span><h3>Code quality<a class="headerlink" href="#code-quality" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="Coding_Style">C Coding Style Guide</a>: Our style guide for C</p></li>
<li><p><a class="reference external" href="Python_Coding_Style">Python Coding Style Guide</a>: Our style guide
for Python</p></li>
<li><p><a class="reference external" href="Coding_Best_Practices">Coding Best Practices</a>: List of
IPA-specific best practices that all existing code doesn’t yet follow</p></li>
<li><p><a class="reference external" href="Schema_Handling">Schema Handling</a>: How to handle new schema</p></li>
<li><p><strong>Comments</strong>: keep in mind that your code will be read and modified
by other developers. It is important to add meaningful comments that
will make your intent clear (the code tells us <em>how</em> but the comment
tells us <em>why</em>…)</p></li>
</ul>
</section>
<section id="changes-to-requirements">
<span id="id9"></span><h3>Changes to requirements<a class="headerlink" href="#changes-to-requirements" title="Permalink to this heading">¶</a></h3>
<p>If your change requires a new version of our dependency (like
389-ds-base, pki-ca or httpd), make sure that <code class="docutils literal notranslate"><span class="pre">freeipa.spec.in</span></code> is
updated and patch descriptions justifies a reason for the change. The
description helps later in analyzing and tracking requirements
differences between FreeIPA versions.</p>
<p>Change to project requirements may also mean a need to regenerate
development repositories, so make sure other developers know about it.</p>
</section>
</section>
<section id="update-documentation">
<span id="id10"></span><h2>Update documentation<a class="headerlink" href="#update-documentation" title="Permalink to this heading">¶</a></h2>
<p>Note that if your code change warrants an update in upstream
documentation (especially if the related Trac ticket had <em>Affects
Documentation</em> flag checked) you are required to update it as well. See
<a class="reference external" href="Contribute/Documentation">Contributing Documentation</a> page for
details.</p>
</section>
</section>
<section id="build">
<h1>Build<a class="headerlink" href="#build" title="Permalink to this heading">¶</a></h1>
<p>See <a class="reference external" href="Build">Build</a> for instructions on how to build FreeIPA from
source</p>
</section>
<section id="test">
<h1>Test<a class="headerlink" href="#test" title="Permalink to this heading">¶</a></h1>
<ul class="simple">
<li><p>The contribution should not break any existing <a class="reference external" href="Testing">tests</a>.</p></li>
<li><p>FreeIPA Makefile provides targets allowing to perform basic tests and
these tests must be successful:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">fastlint</span></code> (pycodestyle and pylint)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">fasttest</span></code> (tests which don’t require access to IPA API)</p></li>
</ul>
</li>
</ul>
<p>For convenience the ‘fastcheck’ runs ‘fasttest’ and ‘fastlint’ with
Python 2 and 3 in one go. A fastcheck takes about half a minute to a
minute to execute: <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">fastcheck</span></code>. Please see
<a class="reference external" href="Testing#Fast_test">Testing#Fast_test</a> for instructions.</p>
<ul class="simple">
<li><p>Important rule: For each ticket, a corresponding test must be
written.</p></li>
</ul>
</section>
<section id="create-pull-request-on-github">
<span id="id11"></span><h1>Create pull request on Github<a class="headerlink" href="#create-pull-request-on-github" title="Permalink to this heading">¶</a></h1>
<p>Create pull request against <strong>freeipa/freeipa</strong> on
<a class="reference external" href="https://github.com/freeipa/freeipa">Github</a>. Please follow steps
listed here <a class="reference external" href="Pull_request_on_Github">Pull request on Github</a> if you
are not sure how to work with pull requests.</p>
<p>Please try to keep commits limited to a single logical change. Multiple
commits in the same pull request are preferred because they allow to
demonstrate the logic and isolate changes.</p>
<p>All pull requests need an associated pagure ticket unless they are
trivial.</p>
<section id="commit-message-requirements">
<span id="id12"></span><h2>Commit message requirements<a class="headerlink" href="#commit-message-requirements" title="Permalink to this heading">¶</a></h2>
<p>The pull request must contain a commit message following the template
present in the source tree (.git-commit-template):</p>
<div class="line-block">
<div class="line">``   component: Subject``</div>
<div class="line">``   ``</div>
<div class="line">``   Explanation``</div>
<div class="line">``   ``</div>
<div class="line">``   Fixes: <code class="docutils literal notranslate"><span class="pre">\</span> <span class="pre">```https://pagure.io/freeipa/issue/XXXX</span></code> &lt;<a class="reference external" href="https://pagure.io/freeipa/issue/XXXX">https://pagure.io/freeipa/issue/XXXX</a>&gt;`__</div>
<div class="line">``   or``</div>
<div class="line">``   Related: <code class="docutils literal notranslate"><span class="pre">\</span> <span class="pre">```https://pagure.io/freeipa/issue/XXXX</span></code> &lt;<a class="reference external" href="https://pagure.io/freeipa/issue/XXXX">https://pagure.io/freeipa/issue/XXXX</a>&gt;`__</div>
</div>
<ul class="simple">
<li><p><em>component: Subject</em> is a single-line summary</p></li>
<li><p><em>Explanation</em> must describe the fix or feature + the method chosen to
implement it, and can span across multiple lines.</p>
<ul>
<li><p>A good commit message allows understanding whether it is related
to a new feature, an enhancement, a code refactoring or a bugfix.</p></li>
<li><p>It needs to provide a context (for instance the issue happens when
command xx is called) and a high-level description of the approach
to address the issue, along with potential side-effects.</p></li>
</ul>
</li>
<li><p><em>Fixes:</em> means that the commit fixes the referenced issue(s).</p></li>
<li><p><em>Related:</em> means that the commit is related to the issue(s) in some
way, but does not resolve it/them.</p></li>
</ul>
<p>When a pull request is created, please update Pagure ticket with link to
the pull request (in the ticket, click on “Edit Metadata” and update the
field “on_review” with the link to your PR, for instance
<a class="reference external" href="https://github.com/freeipa/freeipa/pull/1234">https://github.com/freeipa/freeipa/pull/1234</a>).</p>
<p>The PR will trigger only a subset of the tests. Please keep in mind
that, due to resource limitations, all the tests from the source tree
will not be executed.</p>
<p>We expect you to check if the PR-CI tests are indeed testing your fix.
If some parts of your code are not executed by the PR-CI, then you need
to:</p>
<ul class="simple">
<li><p>check if there are tests in ipatests/ which validate your fix</p></li>
<li><p>run these tests using the instructions in
<a class="reference external" href="https://www.freeipa.org/page/Testing">Testing</a></p></li>
<li><p>list these tests in your PR</p></li>
<li><p>mention which commands or scenarios should be thoroughfully checked
by the reviewer</p></li>
<li><p>describe the manual tests than you have run</p></li>
</ul>
<p>A good habit is also to try to reproduce the issue first: build a
scenario that consistently shows the issue, then implement the fix, and
re-run the same scenario to make sure that the fix is correct.</p>
<p>Once the review is in progress, please remember that the fix is still
under your responsibility as long as no ACK has been given. This means
that you should answer to questions or requests for modifications and
update your PR by taking into accounts all the comments.</p>
<p>If the PR does not progress for a while, you can ask assign the review
to a developer by setting an Assignee (in the PR page, click on
Assignees and pick a reviewer).</p>
</section>
</section>
<section id="work-through-code-review-process">
<span id="id13"></span><h1>Work through Code Review process<a class="headerlink" href="#work-through-code-review-process" title="Permalink to this heading">¶</a></h1>
<section id="tracking-reviews">
<span id="id14"></span><h2>Tracking reviews<a class="headerlink" href="#tracking-reviews" title="Permalink to this heading">¶</a></h2>
<p>All review related information is tracked in <a class="reference external" href="https://github.com/freeipa/freeipa/pulls">pull request
queue</a></p>
</section>
<section id="pr-submitter-responsibilities">
<span id="id15"></span><h2>PR Submitter responsibilities<a class="headerlink" href="#pr-submitter-responsibilities" title="Permalink to this heading">¶</a></h2>
<p>A patch may not be merged upstream until it has received an approval -
ACK label and passes all mandatory pull request CI checks.</p>
<p>There is an exception to this rule called the “One Liner” rule. When you
have a write access to FreeIPA code base and the patch is trivial (e.g.
only one line changed), it can be pushed upstream without a review, but
it still must pass CI checks. What means trivial? Use your best
judgment.</p>
<p>After a pull request is created, FreeIPA developers will take a look at
it and report any concerns they have. The developer starting a review of
your patch should add his name to <em>Assigned</em> field in the pull request
to keep track of the process.</p>
<p>When the reviewer pass a feedback, patch should be then updated to clear
all concerns and thus be ready to be merged. See <a class="reference external" href="Pull_request_on_Github">Pull request on
Github</a> for advice how to update a pull
request. No changes in Pagure are needed when a reviewer rejects the
patch or submitter sends a new version of the patch.</p>
</section>
<section id="pr-reviewer-responsibilities">
<span id="id16"></span><h2>PR Reviewer responsibilities<a class="headerlink" href="#pr-reviewer-responsibilities" title="Permalink to this heading">¶</a></h2>
<p>You can also contribute to FreeIPA by reviewing pull requests. When you
start reviewing a PR, add your name to the Assignees list in order to
avoid duplication of effort.</p>
<p>The reviewer responsibilities include the following steps:</p>
<ul class="simple">
<li><p>ensure that the <a class="reference external" href="#Code_quality">#Code quality</a> requirements are
met</p></li>
<li><p>check that the PR-CI was successful (otherwise comment the PR asking
for a fix, for instance because lint failed …)</p></li>
<li><p>check that the PR includes a corresponding test and that the test
scenario exhibits the issue</p></li>
<li><p>build with the patch</p></li>
<li><p>install and run</p></li>
<li><p>try to consider how you would have fixed the issue and compare with
the proposed fix if a different strategy was picked</p></li>
<li><p>try to consider the potential regressions (for instance if a method
is modified, identify which parts of the code are using this method,
and check whether they are tested)</p></li>
<li><p>if the PR-CI does not validate the fix, check if there are existing
tests that are relevant and launch them, or perform a manual
verification.</p></li>
</ul>
<p>Remember that a reviewer also has a teaching or guiding role: suggest
enhancements or point to existing portions of code that could be reused,
promote good practices and always assume good intent. The PR submitter
may be new to FreeIPA or even new to python development and is certainly
willing to improve and learn from others.</p>
<p>In the review comments, list the checks that you manually did or the
scenario that you tested. Make objective and argumented comments (avoid
“I don’t like that…” but rather explain “this should not be done this
way because…”) and suggest improvements or alternate strategies when
you request a change.</p>
<p>Finally, when you are OK with the fix, give the ACK label to the PR so
that the fix can be pushed by one of the FreeIPA members.</p>
</section>
</section>
<section id="enjoy-the-benefits">
<span id="id17"></span><h1>Enjoy the benefits<a class="headerlink" href="#enjoy-the-benefits" title="Permalink to this heading">¶</a></h1>
<p>When your contribution succeeds in the code review, it is pushed to our
upstream <a class="reference external" href="Contribute/Repository">repository</a> and will be part of our
next release. See our <a class="reference external" href="Roadmap">Roadmap</a> for details.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/freeipa-logo-small.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, FreeIPA Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/archive/pages/Contribute/Code.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
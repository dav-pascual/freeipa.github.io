<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Overview &#8212; FreeIPA  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Example application" href="../Web_App_Authentication/Example_setup.html" />
    <link rel="prev" title="&lt;no title&gt;" href="../V4/User_Life-Cycle_Management/tests.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h1>
<p>FreeIPA CLI contains commands
(<code class="docutils literal notranslate"><span class="pre">{user|host|service}_{add|remove}_cert</span></code>) for adding arbitrary
certificates. Nowadays WebUI displays certificates as list of base64
blobs. It’s not much user-friendly, because it is not possible to read
any information about the certificate. This document designs extended
version of WebUI for CLI described in this design: <a class="reference external" href="http://www.freeipa.org/page/V4/User_Certificates">User
Certificates</a> and
also the CLI part which is necessary for WebUI.</p>
</section>
<section id="use-cases">
<h1>Use Cases<a class="headerlink" href="#use-cases" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="http://www.freeipa.org/page/V4/User_Certificates#Use_Cases">Use
Cases</a></p>
</section>
<section id="design">
<h1>Design<a class="headerlink" href="#design" title="Permalink to this heading">¶</a></h1>
<p>The new WebUI component should be able to display multiple certificate
and provide basic information about each certificate. I.e. cn of
user|host|service, serial number, issuer and validity. There should be a
way how to view data about certificate, how to get certificate in PEM
format, how to download, revoke and remove certificate hold (the last
two will be available only for certificates which are issued by our CA).
Also a possibility to add a new certificate should be present.</p>
<p>It would be good to perform certificate actions immediately without
using the save button. Therefore it will need to somehow mark and cover
the row when some action is running (i.e. revoking the certificate). The
immediate performation of action is more user friendly because for
example marking two certificates as “will be revoked”, one as “will be
removed”, and one as “certificate hold will be removed” is not so clear
as confirmation a immediate action.</p>
<p>WebUI needs to get information from base64 blob of arbitrary
certificate. We already have these information for certificates which
are issued by our CA, but not for other certificates, therefore the
ASN.1 parser is needed. That parser should support basic parts of ASN.1
format, no extensions needed. The WebUI needs information about
certificate and because there may be people who wants to get data from
certificate on command line, so it would be better to implement the
parser on the backend side.</p>
</section>
<section id="implementation">
<h1>Implementation<a class="headerlink" href="#implementation" title="Permalink to this heading">¶</a></h1>
<p>TODO: How certificates are stored in LDAP? More details about ASN.1
parser, about finding certificates?</p>
</section>
<section id="feature-management">
<h1>Feature Management<a class="headerlink" href="#feature-management" title="Permalink to this heading">¶</a></h1>
<section id="ui">
<h2>UI<a class="headerlink" href="#ui" title="Permalink to this heading">¶</a></h2>
<p>It requires new WebUI part which will be able to show certificates on
user|host|service’s details pages. It could be done by multivalued
widget, where one row would represent one certificate. Each row should
have some basic information about certificate. These could be shown as
‘label: value’ list. Each row should also have dropdown menu with
actions for open view and get dialog, for downloading certificate as a
file, for revoking and removing certificate hold and for deleting it.
Add button for adding another certificate should be somewhere under the
last row of certificates. User add certificate by clicking on add button
and insert the certificate encoded in PEM format.</p>
<p>Every action which will be performed on certificates could be performed
immediately without clicking save button. It is more intuitive than, for
example, mark two certificates as revoked, one as deleted and then hit
the save button and wait whether everything went correctly.</p>
</section>
<section id="cli">
<h2>CLI<a class="headerlink" href="#cli" title="Permalink to this heading">¶</a></h2>
<p>There will be new options in <code class="docutils literal notranslate"><span class="pre">cert-find</span></code>. Options which can specify
who owns the certificates which we want to find. For instance to be
possible to find all certificates for users ‘cert_user’, and the same
for hosts and services, <code class="docutils literal notranslate"><span class="pre">--users</span></code>, <code class="docutils literal notranslate"><span class="pre">--hosts</span></code>, <code class="docutils literal notranslate"><span class="pre">--services</span></code>. Then
<code class="docutils literal notranslate"><span class="pre">--certificate</span></code> option for searching certificates by inserting base64
blob. The last change in this command is that it will not return any
issuer in case that the certificate is not issued by our CA.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Options</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cert-find</p></td>
<td><p>–users=[ multivalued ] –hosts=[ multivalued ]
–services=[ multivalued ] –certificate=STR</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="how-to-test">
<span id="how-to-test43"></span><h1>How to Test<a class="headerlink" href="#how-to-test" title="Permalink to this heading">¶</a></h1>
<p>TBD</p>
</section>
<section id="test-plan">
<span id="test-plan43"></span><h1>Test Plan<a class="headerlink" href="#test-plan" title="Permalink to this heading">¶</a></h1>
<p>TBD</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/freeipa-logo-small.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, FreeIPA Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/archive/pages/V4_Designs/WebUI_for_arbitrary_certificates.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
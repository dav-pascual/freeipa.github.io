<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>FreeIPA server containers &#8212; FreeIPA  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="User Documentation" href="Documentation.html" />
    <link rel="prev" title="&lt;no title&gt;" href="Disclaimers.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="freeipa-server-containers">
<span id="id1"></span><h1>FreeIPA server containers<a class="headerlink" href="#freeipa-server-containers" title="Permalink to this heading">¶</a></h1>
<p>The <a class="reference external" href="https://github.com/freeipa/freeipa-container">https://github.com/freeipa/freeipa-container</a> effort focuses on
containerization of FreeIPA server. It makes it possible to run all the
processes comprising the server in an isolated way, leaving the host
free to run other software, not clashing with the FreeIPA server, or
using host with operating system for which FreeIPA is not available.</p>
<p><code class="docutils literal notranslate"><span class="pre">Dockerfile.*</span></code> recipes with related content are available in the
repository with definitions for Fedora, RHELs, CentOS 7, and CentOS
Stream.</p>
<p>Container images built automatically from the repository are available
on
<a class="reference external" href="https://quay.io/repository/freeipa/freeipa-server?tab=tags">Quay.io</a>
and on <a class="reference external" href="https://hub.docker.com/r/freeipa/freeipa-server/">Docker
hub</a>.</p>
<p>{{ admon/note | | Running FreeIPA servers containerized adds a bit of
complexity compared to traditional deployments on hosts. If things seem
to fail, try the same setup outside of containers first, to figure out
if the issue is with FreeIPA in general or whether it is related to the
containerization. We would like to <a class="reference external" href="Contribute#Communication">hear</a>
your feedback or ideas for improvement! }}</p>
</section>
<section id="enroll-the-host-to-freeipa-running-in-the-container">
<span id="id2"></span><h1>Enroll the host to FreeIPA running in the container<a class="headerlink" href="#enroll-the-host-to-freeipa-running-in-the-container" title="Permalink to this heading">¶</a></h1>
<p>If you have FreeIPA server running in a container, you can enroll the
host machine to the FreeIPA server. You need to configure the IP address
of the FreeIPA server (running in the container). You can configure it
either in <code class="docutils literal notranslate"><span class="pre">/etc/hosts</span></code> or put its IP address to <code class="docutils literal notranslate"><span class="pre">/etc/resolv.conf</span></code>
if you’d like to use FreeIPA’s DNS as well.</p>
<p>If you’ve named your running container with FreeIPA server with
<code class="docutils literal notranslate"><span class="pre">--name</span></code> option, for example
<code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span> <span class="pre">--name</span> <span class="pre">freeipa-server-container</span> <span class="pre">...</span></code>, you can use that
name to retrieve the IP address:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SERVER_IP_ADDRESS=$( docker inspect --format &#39;{{ .NetworkSettings.IPAddress }}&#39; freeipa-server-container )
</pre></div>
</div>
<p>Otherwise you’d have to use the autogenerated container identifier. You
can then add the IP address to <code class="docutils literal notranslate"><span class="pre">/etc/hosts</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>echo $SERVER_IP_ADDRESS ipa.example.test &gt;&gt; /etc/hosts
</pre></div>
</div>
<p>or to <code class="docutils literal notranslate"><span class="pre">/etc/resolv.conf</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>echo nameserver $SERVER_IP_ADDRESS &gt; /etc/resolv.conf
</pre></div>
</div>
<p>Then</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ipa</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">install</span> <span class="o">--</span><span class="n">server</span><span class="o">=</span><span class="n">ipa</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">test</span> <span class="o">...</span>
</pre></div>
</div>
<p>should enroll the host to the containerized FreeIPA server.</p>
</section>
<section id="building-the-freeipa-server-container-image">
<span id="id3"></span><h1>Building the FreeIPA server container image<a class="headerlink" href="#building-the-freeipa-server-container-image" title="Permalink to this heading">¶</a></h1>
<p>{{#ev:youtube|ZV8-tXoTev0}}</p>
</section>
<section id="further-reading">
<span id="id4"></span><h1>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this heading">¶</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="http://www.adelton.com/docs/docker/complex-application-in-container">Complex Application in
Container</a>:
CloudOpen presentation about the concepts behind the FreeIPA server
container setup.</p></li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/freeipa-logo-small.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, FreeIPA Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/archive/pages/Docker.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data Storage &#8212; FreeIPA  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="Disclaimerpage.html" />
    <link rel="prev" title="IPA v2 Development Progress" href="Development_Status.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>The FreeIPA Directory Service is built on the <a class="reference external" href="http://directory.fedoraproject.org">389
DS</a> LDAP server. It is the base
stone of the whole Identity Management solution. It serves as a data
backend for all identity, authentication (<a class="reference external" href="Kerberos">Kerberos</a>) and
authorization services and other policies.</p>
<p>The used technology allows FreeIPA to offer a multi-master environment,
where administrator can deploy a number of replicating FreeIPA servers,
thus distributing the load on Identity Management servers and providing
higher redundancy at the same point.</p>
<section id="data-storage">
<span id="id1"></span><h1>Data Storage<a class="headerlink" href="#data-storage" title="Permalink to this heading">¶</a></h1>
<p>All FreeIPA identity, policy, configuration or certificates are stored
in the Directory Server. FreeIPA objects are stored in one suffix
calculated from realm name (e.g. <code class="docutils literal notranslate"><span class="pre">dc=example,dc=com</span></code> for a realm
EXAMPLE.COM), certificates are stored in a second suffix, <code class="docutils literal notranslate"><span class="pre">o=ipaca</span></code>.</p>
<section id="accessing-data">
<span id="id2"></span><h2>Accessing Data<a class="headerlink" href="#accessing-data" title="Permalink to this heading">¶</a></h2>
<p>Access to different parts of the Directory Server tree is protected by
DS ACI configuration. Some parts of the tree (like users) can be open
anonymously to everyone, others may be open only to authenticated users
(like sudo) and other’s only to privileged users (like DNS tree). Write
access is even more strict, but it can be allowed to FreeIPA users using
the permission plugins (run <code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">help</span> <span class="pre">permission</span></code> command for more
information) which can add DS ACIs allowing that operation in a
user’convenient way.</p>
</section>
<section id="modifying-data">
<span id="id3"></span><h2>Modifying Data<a class="headerlink" href="#modifying-data" title="Permalink to this heading">¶</a></h2>
<p>As Directory Server is communicating with standard
<a class="reference external" href="http://www.ietf.org/rfc/rfc2251.txt">LDAPv3</a> protocol, standard LDAP
<a class="reference external" href="Client">clients</a> can be used to read all the identity and policy
objects. However, adding or modification of directory entries by custom
LDAP clients is not recommended as it could lead to incomplete or
inconsistent entries in the tree where some expected attribute is in an
invalid format or missing at all.</p>
<p>To make the manipulation of the entries easier, the provided CLI and Web
UI interfaces provide a supported way of performing the modifications.
Run <code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">help</span> <span class="pre">topics</span></code> to see the list of supported commands.</p>
</section>
</section>
<section id="server-plugins">
<span id="id4"></span><h1>Server Plugins<a class="headerlink" href="#server-plugins" title="Permalink to this heading">¶</a></h1>
<p>Just a plain data storage is not sufficient for an efficient Identity
Management solution. It also needs to provide more advanced functions
supporting it’s clients, for instance validation for selected
attributes, authentication hooks to prevent brute forcing of a user’s
password, extended operations etc.</p>
<p>FreeIPA configures primarily the following set of plugins (to see all of
them, traverse <code class="docutils literal notranslate"><span class="pre">cn=plugins,cn=config</span></code> in the tree):</p>
<ul class="simple">
<li><p><strong>ipa_pwd_extop</strong>: Handles password changes, enforces the FreeIPA
password policy (<code class="docutils literal notranslate"><span class="pre">ipa</span> <span class="pre">help</span> <span class="pre">pwpolicy</span></code>) for new or changed passwords</p></li>
<li><p><strong>IPA Lockout</strong>: hooks into authentication to the Directory Server
(i.e. LDAP BIND operation) and makes sure nobody is brute forcing the
user’s password by running too many passwords attempt. If it does, it
locks out the user for configured amount of time.</p></li>
<li><p><strong>ipa_enrollment_extop</strong>: provides extended operation for enrollment
of new <a class="reference external" href="Client">clients</a> and creating new client host entry</p></li>
<li><p><strong>Schema Compatibility</strong>: publishes an alternate trees containing a
computed different view on objects in the DS. For instance, as
FreeIPA stores users using RFC 2307bis schema, it publishes alternate
tree <code class="docutils literal notranslate"><span class="pre">cn=users,cn=compat,dc=example,dc=com</span></code> with users in a RFC
2307 schema. It is also used by <a class="reference external" href="Trusts">Trusts</a> feature to allow
Active Directory users access legacy system without a recent SSSD
version.</p></li>
<li><p><strong>ipa-winsync</strong>: enables user synchronization with Active Directory.
Note that winsync synchronization is rather obsoleted and
<a class="reference external" href="Trusts">Trusts</a> are a preferred way of FreeIPA - Active Directory
interoperation</p></li>
<li><p><strong>IPA DNS</strong>: <a class="reference external" href="DNS">DNS</a> zones stored in LDAP do not replicate SOA
serial number among replicas, which effectivelly means that the SOA
serial is localy-significant. This plugin makes sure that new
replicated zones get SOA serial set to initial value 1, so the
mandatory attribute <code class="docutils literal notranslate"><span class="pre">idnsSOAserial</span></code> is present.</p></li>
</ul>
</section>
<section id="backup-and-restore">
<h1>Backup and Restore<a class="headerlink" href="#backup-and-restore" title="Permalink to this heading">¶</a></h1>
<p>See a separate <a class="reference external" href="Backup_and_Restore">Backup and Restore</a> article to
read more about backup and restore scenarios and how to approach them.</p>
</section>
<section id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h1>
<section id="project-documentation">
<span id="id5"></span><h2>Project documentation<a class="headerlink" href="#project-documentation" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://directory.fedoraproject.org/">389 Directory Server project
pages</a></p></li>
<li><p><a class="reference external" href="https://access.redhat.com/documentation/en-US/Red_Hat_Directory_Server/">Red Hat Directory Server extensive
documentation</a></p></li>
</ul>
</section>
<section id="technical-articles">
<span id="id6"></span><h2>Technical articles<a class="headerlink" href="#technical-articles" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://www.port389.org/docs/389ds/design/content-synchronization-plugin.html">SyncRepl - LDAP synchronization
protocol</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/freeipa-logo-small.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, FreeIPA Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/archive/pages/Directory_Server.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>